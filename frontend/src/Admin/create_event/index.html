<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Event</title>
    <link rel="stylesheet" href="../../assets/styles/output.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <!-- Image Preview Modal -->
  <div
    id="imagePreviewModal"
    class="fixed inset-0 bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 hidden"
  >
    <div
      class="border border-purple-950 bg-white p-4 rounded shadow-lg relative max-w-2xl max-h-[95vh] overflow-auto"
    >
      <button
        id="closeImageModal"
        class="absolute top-2 right-2 text-gray-600 hover:text-black text-lg"
        title="Close"
      >
        ✕
      </button>
      <img
        id="modalPreviewImage"
        src=""
        alt="Full Preview"
        class="rounded max-w-full max-h-[80vh] object-contain"
      />
    </div>
  </div>

  <body class="bg-[#F8F8FF] font-poppins">
    <div id="navbar"></div>
    <main class="px-[278px] py-6">
      <h2 class="w-full text-2xl font-bold mb-6">Create Event</h2>
      <section
        class="w-full max-w-[850px] bg-white border border-gray-300 rounded-lg p-8 grid grid-cols-2 gap-x-6 gap-y-4 shadow"
      >
        <!-- Title -->
        <div class="col-span-1">
          <label class="block text-sm font-medium mb-1" for="title"
            >Title</label
          >
          <input
            type="text"
            id="title"
            placeholder="Event Name"
            class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-1 focus:ring-purple-500"
          />
        </div>

        <!-- Image Upload -->
        <div
          class="col-span-1 row-span-4 border-2 border-dashed border-gray-300 flex flex-col items-center justify-center rounded-md text-center px-4 py-6"
        >
          <i class="fa-solid fa-image text-3xl text-gray-400 mb-2"></i>
          <p class="text-sm text-gray-500">
            Drop here to attach or
            <a href="#" class="text-blue-500 underline">upload</a>
          </p>
        </div>

        <!-- Description -->
        <div class="col-span-1">
          <label class="block text-sm font-medium mb-1" for="description"
            >Description</label
          >
          <textarea
            id="description"
            rows="3"
            placeholder="Input Description"
            class="w-full border border-gray-300 rounded-md px-4 py-2 resize-none focus:outline-none focus:ring-1 focus:ring-purple-500"
          ></textarea>
        </div>

        <!-- Category -->
        <div class="col-span-1">
          <label class="block text-sm font-medium mb-1" for="category"
            >Category</label
          >
          <div
            id="customCategoryDropdown"
            class="relative border border-gray-300 rounded-md px-4 py-2 bg-white cursor-pointer"
          >
            <span id="selectedCategoryText">Select a category</span>
            <i class="fa-solid fa-chevron-down absolute right-4 top-3"></i>
            <div
              id="categoryOptions"
              class="absolute mt-2 z-10 hidden top-full left-0 w-full bg-white border border-gray-300 rounded-b-md shadow"
            ></div>
          </div>
          <!-- Hidden field to store selected category id -->
          <input type="hidden" id="category" />
        </div>

        <!-- Duration -->
        <div>
          <label class="block text-sm font-medium mb-1" for="duration"
            >Duration (hh:mm:ss)</label
          >

          <input
            type="text"
            id="duration"
            min="1"
            max="10"
            value="1"
            class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-1 focus:ring-purple-500"
          />
        </div>

        <!-- Venue Block -->
        <div
          id="venueBlock"
          class="col-span-2 border border-gray-300 rounded-md p-4 mt-4 hidden bg-white shadow-sm relative"
        >
          <button
            id="closeVenueBtn"
            class="absolute top-2 right-2 text-gray-500 hover:text-gray-950 px-2"
            title="Close"
          >
            ✕
          </button>
          <label class="block text-sm font-medium mb-1" for="venue"
            >Venue</label
          >

          <div
            id="customVenueDropdown"
            class="relative border border-gray-300 rounded-md px-4 py-2 bg-white"
          >
            <input
              type="text"
              id="venueSearchInput"
              placeholder="Search for a venue"
              class="w-full focus:outline-none"
            />
            <i
              class="fa-solid fa-chevron-down absolute right-4 top-3 pointer-events-none"
            ></i>
            <div
              id="venueOptions"
              class="absolute mt-2 z-10 hidden top-full left-0 w-full bg-white border border-gray-300 rounded-b-md shadow max-h-60 overflow-y-auto"
            ></div>

            <!-- hidden actual input to send to backend -->
            <input type="hidden" id="venue" name="venue" />
          </div>

          <div class="grid grid-cols-2 gap-x-4">
            <div>
              <label class="block text-sm font-medium mb-1" for="on-date"
                >On</label
              >
              <input
                type="date"
                id="on-date"
                class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-1 focus:ring-purple-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-1" for="time"
                >Time</label
              >
              <input
                type="time"
                id="time"
                value="09:00"
                class="w-full border border-gray-300 rounded-md px-4 py-2 focus:outline-none focus:ring-1 focus:ring-purple-500"
              />
            </div>
          </div>
        </div>

        <!-- Add Venue Button -->
        <div class="col-span-2 mt-2 relative">
          <button
            id="toggleVenueBtn"
            class="hover:bg-gradient-to-r hover:from-[#46006e] to-[#0a0417] w-full flex items-center justify-between border border-[#191970] px-4 py-2 rounded-md hover:text-white transition duration-200"
          >
            <span>Add Venue</span>
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>

        <!-- Saved Venue Cards -->
        <div id="savedVenuesList" class="col-span-2 mt-4 space-y-4"></div>

        <!-- Final Buttons -->
        <div class="col-span-2 flex justify-center gap-6 mt-">
          <button
            id="cancelBtn"
            class="border border-[#191970] px-6 py-2 rounded-md"
          >
            Cancel
          </button>
          <button
            id="submitFormBtn"
            class="bg-gradient-to-r from-[#46006e] to-[#0a0417] text-white px-6 py-2 rounded-md hover:cursor-pointer"
          >
            Create
          </button>
        </div>
      </section>
    </main>

    <script
      type="module"
      src="../../dist/Admin/create_event/create.js"
    ></script>
  </body>
</html>
